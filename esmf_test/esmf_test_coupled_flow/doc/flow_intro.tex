% $Id$

% Earth System Modeling Framework
% Copyright 2002-2017, University Corporation for Atmospheric Research,
% Massachusetts Institute of Technology, Geophysical Fluid Dynamics
% Laboratory, University of Michigan, National Centers for Environmental
% Prediction, Los Alamos National Laboratory, Argonne National Laboratory,
% NASA Goddard Space Flight Center.
% Licensed under the University of Illinois-NCSA License.

\section{ESMF COUPLED\_FLOW Demonstration Program}
\label{sec:demo}

\subsection{ESMF COUPLED\_FLOW Description}

The {\tt ESMF COUPLED\_FLOW} application uses the ESMF framework, including 
gridded and coupler components, Superstructure and Infrastructure. 
The application injects a tracer from one gridded
component into another, which then advects the flow.  Communication is handled through a
coupler component.  Review of this demonstration should enable the user to
understand the general structure of an ESMF application.

 
The application is comprised of two ESMF 
{\tt Gridded Components} and a {\tt Coupler Component}.  
The first {\tt Gridded Component}, {\tt FlowSolver}, solves the compressible 
time-dependent fluid flow equations.  The algorithm 
applies an explicit finite difference technique to a staggered, Arakawa C igrid 
that is Cartesian and uniform.  State variables, including density, 
pressure, viscosity and temperature, are located at cell-centers, while 
velocities are located at the north and east cell faces.  This component is initialized 
with a steady-state, one-dimensional flow.  The second {\tt Gridded 
Component}, {\tt Injector}, injects tracer fluid into the first component normal to the 
flow along 
one of the boundaries.  The injected fluid can have arbitrary velocity, 
temperature, density and duration, effectively setting some of 
the boundary conditions for the first component.  The {\tt FlowSolver} and 
{\tt Injector Components} sit on different Cartesian igrids.  The
{\tt Coupler Component} redistributes boundary condition data from 
the {\tt Injector} to the {\tt FlowSolver}.

